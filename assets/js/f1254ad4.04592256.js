"use strict";(self.webpackChunk_1_inch_docs=self.webpackChunk_1_inch_docs||[]).push([[3250],{3905:function(e,t,r){r.d(t,{Zo:function(){return d},kt:function(){return p}});var o=r(67294);function n(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function i(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,o)}return r}function a(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?i(Object(r),!0).forEach((function(t){n(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):i(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function l(e,t){if(null==e)return{};var r,o,n=function(e,t){if(null==e)return{};var r,o,n={},i=Object.keys(e);for(o=0;o<i.length;o++)r=i[o],t.indexOf(r)>=0||(n[r]=e[r]);return n}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(o=0;o<i.length;o++)r=i[o],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}var s=o.createContext({}),c=function(e){var t=o.useContext(s),r=t;return e&&(r="function"==typeof e?e(t):a(a({},t),e)),r},d=function(e){var t=c(e.components);return o.createElement(s.Provider,{value:t},e.children)},u={inlineCode:"code",wrapper:function(e){var t=e.children;return o.createElement(o.Fragment,{},t)}},h=o.forwardRef((function(e,t){var r=e.components,n=e.mdxType,i=e.originalType,s=e.parentName,d=l(e,["components","mdxType","originalType","parentName"]),h=c(r),p=n,f=h["".concat(s,".").concat(p)]||h[p]||u[p]||i;return r?o.createElement(f,a(a({ref:t},d),{},{components:r})):o.createElement(f,a({ref:t},d))}));function p(e,t){var r=arguments,n=t&&t.mdxType;if("string"==typeof e||n){var i=r.length,a=new Array(i);a[0]=h;var l={};for(var s in t)hasOwnProperty.call(t,s)&&(l[s]=t[s]);l.originalType=e,l.mdxType="string"==typeof e?e:n,a[1]=l;for(var c=2;c<i;c++)a[c]=r[c];return o.createElement.apply(null,a)}return o.createElement.apply(null,r)}h.displayName="MDXCreateElement"},23277:function(e,t,r){r.r(t),r.d(t,{frontMatter:function(){return l},contentTitle:function(){return s},metadata:function(){return c},toc:function(){return d},default:function(){return h}});var o=r(87462),n=r(63366),i=(r(67294),r(3905)),a=["components"],l={sidebar_position:2},s="How to become a resolver",c={unversionedId:"fusion-swap/how-to-become-resolver",id:"fusion-swap/how-to-become-resolver",isDocsHomePage:!1,title:"How to become a resolver",description:"To fill an order, a resolver should be whitelisted and have enough balance to pay the order fee. So below are the overview of steps to do to start resolving:",source:"@site/docs/fusion-swap/how-to-become-resolver.mdx",sourceDirName:"fusion-swap",slug:"/fusion-swap/how-to-become-resolver",permalink:"/docs/fusion-swap/how-to-become-resolver",editUrl:"https://github.com/1inch/1inch-docs/edit/master/docs/fusion-swap/how-to-become-resolver.mdx",tags:[],version:"current",sidebarPosition:2,frontMatter:{sidebar_position:2},sidebar:"tutorialSidebar",previous:{title:"Introduction",permalink:"/docs/fusion-swap/introduction"},next:{title:"Resolver verification",permalink:"/docs/fusion-swap/resolver-verification"}},d=[{value:"Staking",id:"staking",children:[{value:"Staking and unicorn power",id:"staking-and-unicorn-power",children:[]},{value:"Delegation",id:"delegation",children:[]},{value:"Farmings",id:"farmings",children:[]}]},{value:"Register as a resolver",id:"register-as-a-resolver",children:[]},{value:"Fee bank",id:"fee-bank",children:[]},{value:"Resolving",id:"resolving",children:[]}],u={toc:d};function h(e){var t=e.components,r=(0,n.Z)(e,a);return(0,i.kt)("wrapper",(0,o.Z)({},u,r,{components:t,mdxType:"MDXLayout"}),(0,i.kt)("h1",{id:"how-to-become-a-resolver"},"How to become a resolver"),(0,i.kt)("p",null,"To fill an order, a resolver should be whitelisted and have enough balance to pay the order fee. So below are the overview of steps to do to start resolving:"),(0,i.kt)("ol",null,(0,i.kt)("li",{parentName:"ol"},(0,i.kt)("a",{href:"#staking-and-staking-power"},"Stake enough 1inch")," to have enough unicorn power to be in top-5 registered resolvers list;"),(0,i.kt)("li",{parentName:"ol"},(0,i.kt)("a",{href:"#register-as-a-resolver"},"Register as a resolver")," (in whitelist and delegation) and set worker address"),(0,i.kt)("li",{parentName:"ol"},(0,i.kt)("a",{href:"#fee-bank"},"Deposit 1inch")," to FeeBank to cover resolving fees"),(0,i.kt)("li",{parentName:"ol"},(0,i.kt)("a",{href:"#resolving"},"Resolve swaps"))),(0,i.kt)("h2",{id:"staking"},"Staking"),(0,i.kt)("h3",{id:"staking-and-unicorn-power"},"Staking and unicorn power"),(0,i.kt)("p",null,"The whitelisted top-5 stakers are determined by the unicorn power. Stakers can lock 1inch tokens in the staking contract to get st1inch tokens. The lock period is between 1 month and 2 years. st1inch tokens grants a staker \u201cunicorn power.\u201d The longer the locking period the more \u201cunicorn power\u201d a resolver gets. However, the increase in power is not linear:"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},"2-years lock will give the staker 1 \u201cunicorn power\u201d for each 1inch"),(0,i.kt)("li",{parentName:"ul"},"1.5-years lock will give the staker 0.47 \u201cunicorn power\u201d for each 1inch"),(0,i.kt)("li",{parentName:"ul"},"1-years lock will give the staker 0.22 \u201cunicorn power\u201d for each 1inch"),(0,i.kt)("li",{parentName:"ul"},"0.5-year lock will give the staker 0.1 \u201cunicorn power\u201d for each 1inch"),(0,i.kt)("li",{parentName:"ul"},"Expired lock will give the staker only 0.05 \u201cunicorn power\u201d for each 1inch")),(0,i.kt)("img",{src:"/img/fusion/staking-image.png",alt:"staking-image"}),(0,i.kt)("h3",{id:"delegation"},"Delegation"),(0,i.kt)("p",null,"To help overcome the entry barrier to get into the whitelist a resolver can engage 1inch stakers to delegate their \u201cunicorn power\u201d to him."),(0,i.kt)("p",null,"When a staker delegates his \u201cunicorn power\u201d to a resolver, his power is added to the resolver\u2019s \u201cunicorn power\u201d and helps him to enter and remain in the whitelist. Delegated \u201cunicorn power\u201d is decreased over time with a lock period in the same manner as a resolver\u2019s \u201cunicorn power\u201d."),(0,i.kt)("p",null,"A staker can delegate all its power to a single resolver at one moment of time."),(0,i.kt)("h3",{id:"farmings"},"Farmings"),(0,i.kt)("p",null,"To incentivize stakers to delegate their unicorn power Fusion infrastructure creates a default farm for each resolver and any staker delegated his \u201cunicorn power\u201d to a resolver is automatically joined the farm. The resolver who owns the farm may provide rewards for joined delegates which are distributed to them proportionally to the delegated \u201cunicorn power\u201d and time spent delegating."),(0,i.kt)("h2",{id:"register-as-a-resolver"},"Register as a resolver"),(0,i.kt)("p",null,"It is not enough to have sufficient \u201cunicorn power\u201d but a Resolver should also be enlisted as a resolver which involves the following actions:"),(0,i.kt)("ol",null,(0,i.kt)("li",{parentName:"ol"},(0,i.kt)("a",{parentName:"li",href:"resolver-verification"},"complete resolver verification process")),(0,i.kt)("li",{parentName:"ol"},"register a delegation pod"),(0,i.kt)("li",{parentName:"ol"},"register for whitelisting")),(0,i.kt)("p",null,"Optionally, a resolver may define the default farm that a delegating staker will automatically join after delegation."),(0,i.kt)("p",null,"If a resolver wants to fill orders from another address then that is whitelisted then he should define a worker address for this purpose. Otherwise, if a resolver wants to fill orders from its own address he should register his own address as a worker."),(0,i.kt)("p",null,"The whitelist contains top-5 resolvers by unicorn power. The position in the list defines the access priority for resolving. The Dutch auction duration is split equally into 6 intervals."),(0,i.kt)("p",null,"For example, if Dutch auction is lasted 6 minutes, then 1st minute the top-1 resolver is allowed to fill the order, on the 2nd minute top-1 and top-2 resolvers are allowed to fill the order and so on. On the 5th minute all the resolvers from the whitelist are allowed to fill the order. On the 5th minute the order becomes public and all the resolvers despite of the whitelist are allowed to fill it."),(0,i.kt)("p",null,"Below is an example of 7 minutes long auction"),(0,i.kt)("img",{src:"/img/fusion/auction.png",alt:"auction-image"}),(0,i.kt)("h2",{id:"fee-bank"},"Fee bank"),(0,i.kt)("p",null,"For each order filled, a resolver should pay a fee. This fee is automatically subtracted from the resolver\u2019s account at the fee bank. The order fill will be reverted if there is an insufficient account balance at the fee bank. So a resolver should deposit enough 1inch tokens to fill orders."),(0,i.kt)("p",null,"If a worker is defined for filling orders then a deposit should be made to this worker account at the FeeBank."),(0,i.kt)("h2",{id:"resolving"},"Resolving"),(0,i.kt)("p",null,"If all the previously described requirements are met and steps are done, then a resolver may start filling orders by calling resolve method of the settlement contract. If a resolver wants to fill several orders in one transaction then he should add taker\u2019s interactions with chain order fill in it. See limit orders documentation for details."))}h.isMDXComponent=!0}}]);