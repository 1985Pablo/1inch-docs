"use strict";(self.webpackChunk_1_inch_docs=self.webpackChunk_1_inch_docs||[]).push([[1821],{3905:function(e,n,t){t.d(n,{Zo:function(){return c},kt:function(){return k}});var r=t(67294);function o(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function s(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function a(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?s(Object(t),!0).forEach((function(n){o(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):s(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function i(e,n){if(null==e)return{};var t,r,o=function(e,n){if(null==e)return{};var t,r,o={},s=Object.keys(e);for(r=0;r<s.length;r++)t=s[r],n.indexOf(t)>=0||(o[t]=e[t]);return o}(e,n);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)t=s[r],n.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(o[t]=e[t])}return o}var l=r.createContext({}),p=function(e){var n=r.useContext(l),t=n;return e&&(t="function"==typeof e?e(n):a(a({},n),e)),t},c=function(e){var n=p(e.components);return r.createElement(l.Provider,{value:n},e.children)},u={inlineCode:"code",wrapper:function(e){var n=e.children;return r.createElement(r.Fragment,{},n)}},d=r.forwardRef((function(e,n){var t=e.components,o=e.mdxType,s=e.originalType,l=e.parentName,c=i(e,["components","mdxType","originalType","parentName"]),d=p(t),k=o,m=d["".concat(l,".").concat(k)]||d[k]||u[k]||s;return t?r.createElement(m,a(a({ref:n},c),{},{components:t})):r.createElement(m,a({ref:n},c))}));function k(e,n){var t=arguments,o=n&&n.mdxType;if("string"==typeof e||o){var s=t.length,a=new Array(s);a[0]=d;var i={};for(var l in n)hasOwnProperty.call(n,l)&&(i[l]=n[l]);i.originalType=e,i.mdxType="string"==typeof e?e:o,a[1]=i;for(var p=2;p<s;p++)a[p]=t[p];return r.createElement.apply(null,a)}return r.createElement.apply(null,t)}d.displayName="MDXCreateElement"},19491:function(e,n,t){t.r(n),t.d(n,{frontMatter:function(){return i},contentTitle:function(){return l},metadata:function(){return p},toc:function(){return c},default:function(){return d}});var r=t(87462),o=t(63366),s=(t(67294),t(3905)),a=["components"],i={sidebar_label:"WebSocket API",sidebar_position:3,title:"WebSocket API"},l="Websocket Api",p={unversionedId:"fusion-swap/fusion-sdk/for-resolvers/websocket-api",id:"fusion-swap/fusion-sdk/for-resolvers/websocket-api",isDocsHomePage:!1,title:"WebSocket API",description:"Description: provides high level functionality to working with fusion mode",source:"@site/docs/fusion-swap/fusion-sdk/for-resolvers/websocket-api.md",sourceDirName:"fusion-swap/fusion-sdk/for-resolvers",slug:"/fusion-swap/fusion-sdk/for-resolvers/websocket-api",permalink:"/docs/fusion-swap/fusion-sdk/for-resolvers/websocket-api",editUrl:"https://github.com/1inch/1inch-docs/edit/master/docs/fusion-swap/fusion-sdk/for-resolvers/websocket-api.md",tags:[],version:"current",sidebarPosition:3,frontMatter:{sidebar_label:"WebSocket API",sidebar_position:3,title:"WebSocket API"},sidebar:"tutorialSidebar",previous:{title:"Auction Suffix",permalink:"/docs/fusion-swap/fusion-sdk/for-resolvers/auction-suffix"},next:{title:"Introduction",permalink:"/docs/limit-order-protocol/introduction"}},c=[{value:"Real world example",id:"real-world-example",children:[]},{value:"Creation",id:"creation",children:[]},{value:"Methods",id:"methods",children:[{value:"on",id:"on",children:[]},{value:"off",id:"off",children:[]},{value:"onOpen",id:"onopen",children:[]},{value:"send",id:"send",children:[]},{value:"close",id:"close",children:[]},{value:"onMessage",id:"onmessage",children:[]},{value:"onClose",id:"onclose",children:[]},{value:"onError",id:"onerror",children:[]},{value:"onOrder",id:"onorder",children:[]},{value:"onOrderCreated",id:"onordercreated",children:[]},{value:"onOrderInvalid",id:"onorderinvalid",children:[]},{value:"onOrderBalanceOrAllowanceChange",id:"onorderbalanceorallowancechange",children:[]},{value:"onOrderFilled",id:"onorderfilled",children:[]},{value:"onOrderFilledPartially",id:"onorderfilledpartially",children:[]},{value:"onPong",id:"onpong",children:[]},{value:"ping",id:"ping",children:[]},{value:"getAllowedMethods",id:"getallowedmethods",children:[]},{value:"onGetAllowedMethods",id:"ongetallowedmethods",children:[]},{value:"getActiveOrders",id:"getactiveorders",children:[]},{value:"onGetActiveOrders",id:"ongetactiveorders",children:[]}]},{value:"Types",id:"types",children:[{value:"OrderEventType",id:"ordereventtype",children:[]},{value:"RpcMethod",id:"rpcmethod",children:[]}]}],u={toc:c};function d(e){var n=e.components,t=(0,o.Z)(e,a);return(0,s.kt)("wrapper",(0,r.Z)({},u,t,{components:n,mdxType:"MDXLayout"}),(0,s.kt)("h1",{id:"websocket-api"},"Websocket Api"),(0,s.kt)("p",null,(0,s.kt)("strong",{parentName:"p"},"Description:")," provides high level functionality to working with fusion mode"),(0,s.kt)("h2",{id:"real-world-example"},"Real world example"),(0,s.kt)("pre",null,(0,s.kt)("code",{parentName:"pre",className:"language-typescript"},"import {WebSocketApi, NetworkEnum} from '@1inch/fusion-sdk'\n\nconst ws = new WebSocketApi({\n    url: 'wss://fusion.1inch.io/ws',\n    network: NetworkEnum.ETHEREUM\n})\n\nwsSdk.order.onOrder((data) => {\n    console.log('received order event', data)\n})\n")),(0,s.kt)("h2",{id:"creation"},"Creation"),(0,s.kt)("p",null,(0,s.kt)("strong",{parentName:"p"},"With constructor:")),(0,s.kt)("pre",null,(0,s.kt)("code",{parentName:"pre",className:"language-typescript"},"import {WebSocketApi, NetworkEnum} from '@1inch/fusion-sdk'\n\nconst ws = new WebSocketApi({\n    url: 'wss://fusion.1inch.io/ws',\n    network: NetworkEnum.ETHEREUM\n})\n")),(0,s.kt)("p",null,(0,s.kt)("strong",{parentName:"p"},"Custom provider:")),(0,s.kt)("p",null,"User can provide custom provider for websocket (be default we are using ",(0,s.kt)("a",{parentName:"p",href:"https://www.npmjs.com/package/ws"},"ws library"),")"),(0,s.kt)("pre",null,(0,s.kt)("code",{parentName:"pre",className:"language-typescript"},"import {WsProviderConnector, WebSocketApi} from '@1inch/fusion-sdk'\n\nclass MyFancyProvider implements WsProviderConnector {\n    // ... user implementation\n}\n\nconst url = 'wss://fusion.1inch.io/ws/v1.0/1'\nconst provider = new MyFancyProvider({url})\n\nconst wsSdk = new WebSocketApi(provider)\n")),(0,s.kt)("p",null,(0,s.kt)("strong",{parentName:"p"},"With new static method:")),(0,s.kt)("pre",null,(0,s.kt)("code",{parentName:"pre",className:"language-typescript"},"import {WebSocketApi, NetworkEnum} from '@1inch/fusion-sdk'\n\nconst ws = WebSocketApi.new({\n    url: 'wss://fusion.1inch.io/ws',\n    network: NetworkEnum.ETHEREUM\n})\n")),(0,s.kt)("p",null,(0,s.kt)("strong",{parentName:"p"},"Lazy initialization:")),(0,s.kt)("p",null,"By default when user creates an instance of WebSocketApi, it automatically opens websocket connection which might be a problem for some use cases"),(0,s.kt)("pre",null,(0,s.kt)("code",{parentName:"pre",className:"language-typescript"},"import {WebSocketApi, NetworkEnum} from '@1inch/fusion-sdk'\n\nconst ws = new WebSocketApi({\n    url: 'wss://fusion.1inch.io/ws',\n    network: NetworkEnum.ETHEREUM,\n    lazyInit: true\n})\n\nws.init()\n")),(0,s.kt)("h2",{id:"methods"},"Methods"),(0,s.kt)("p",null,(0,s.kt)("strong",{parentName:"p"},"Base methods")),(0,s.kt)("h3",{id:"on"},"on"),(0,s.kt)("p",null,(0,s.kt)("strong",{parentName:"p"},"Description"),": You can subscribe to any event"),(0,s.kt)("p",null,(0,s.kt)("strong",{parentName:"p"},"Arguments"),":"),(0,s.kt)("ul",null,(0,s.kt)("li",{parentName:"ul"},"[0]"," event: string"),(0,s.kt)("li",{parentName:"ul"},"[1]"," cb: Function")),(0,s.kt)("p",null,(0,s.kt)("strong",{parentName:"p"},"Example:")),(0,s.kt)("pre",null,(0,s.kt)("code",{parentName:"pre",className:"language-typescript"},"import {WebSocketApi, NetworkEnum} from '@1inch/fusion-sdk'\n\nconst ws = new WebSocketApi({\n    url: 'wss://fusion.1inch.io/ws',\n    network: NetworkEnum.ETHEREUM\n})\n\nws.on('error', console.error)\n\nws.on('open', function open() {\n    ws.send('something')\n})\n\nws.on('message', function message(data) {\n    console.log('received: %s', data)\n})\n")),(0,s.kt)("h3",{id:"off"},"off"),(0,s.kt)("p",null,(0,s.kt)("strong",{parentName:"p"},"Description"),": You can unsubscribe from any event"),(0,s.kt)("p",null,(0,s.kt)("strong",{parentName:"p"},"Arguments"),":"),(0,s.kt)("ul",null,(0,s.kt)("li",{parentName:"ul"},"[0]"," event: string"),(0,s.kt)("li",{parentName:"ul"},"[1]"," \u0441b: Function")),(0,s.kt)("p",null,(0,s.kt)("strong",{parentName:"p"},"Example:")),(0,s.kt)("pre",null,(0,s.kt)("code",{parentName:"pre",className:"language-typescript"},"import {WebSocketApi, NetworkEnum} from '@1inch/fusion-sdk'\n\nconst ws = new WebSocketApi({\n    url: 'wss://fusion.1inch.io/ws',\n    network: NetworkEnum.ETHEREUM\n})\n\nws.on('error', console.error)\n\nws.on('open', function open() {\n    ws.send('something')\n})\n\nfunction message(data) {\n    console.log('received: %s', data)\n}\n\nws.on('message', message)\n\nws.off('message', message)\n")),(0,s.kt)("h3",{id:"onopen"},"onOpen"),(0,s.kt)("p",null,(0,s.kt)("strong",{parentName:"p"},"Description"),": subscribe to open event"),(0,s.kt)("p",null,(0,s.kt)("strong",{parentName:"p"},"Arguments"),":"),(0,s.kt)("ul",null,(0,s.kt)("li",{parentName:"ul"},"[0]"," cb: Function")),(0,s.kt)("p",null,(0,s.kt)("strong",{parentName:"p"},"Example:")),(0,s.kt)("pre",null,(0,s.kt)("code",{parentName:"pre",className:"language-typescript"},"import {WebSocketApi, NetworkEnum} from '@1inch/fusion-sdk'\n\nconst ws = new WebSocketApi({\n    url: 'wss://fusion.1inch.io/ws',\n    network: NetworkEnum.ETHEREUM\n})\n\nws.onOpen(() => {\n    console.log('connection is opened')\n})\n")),(0,s.kt)("h3",{id:"send"},"send"),(0,s.kt)("p",null,(0,s.kt)("strong",{parentName:"p"},"Description"),": send event to backend"),(0,s.kt)("p",null,(0,s.kt)("strong",{parentName:"p"},"Arguments"),":"),(0,s.kt)("ul",null,(0,s.kt)("li",{parentName:"ul"},"[0]"," message: any message which can be serialized with JSON.stringify")),(0,s.kt)("p",null,(0,s.kt)("strong",{parentName:"p"},"Example:")),(0,s.kt)("pre",null,(0,s.kt)("code",{parentName:"pre",className:"language-typescript"},"import {WebSocketApi, NetworkEnum} from '@1inch/fusion-sdk'\n\nconst ws = new WebSocketApi({\n    url: 'wss://fusion.1inch.io/ws',\n    network: NetworkEnum.ETHEREUM\n})\n\nws.send('my message')\n")),(0,s.kt)("h3",{id:"close"},"close"),(0,s.kt)("p",null,(0,s.kt)("strong",{parentName:"p"},"Description"),": close connection"),(0,s.kt)("p",null,(0,s.kt)("strong",{parentName:"p"},"Example:")),(0,s.kt)("pre",null,(0,s.kt)("code",{parentName:"pre",className:"language-typescript"},"import {WebSocketApi, NetworkEnum} from '@1inch/fusion-sdk'\n\nconst ws = new WebSocketApi({\n    url: 'wss://fusion.1inch.io/ws',\n    network: NetworkEnum.ETHEREUM\n})\n\nws.close()\n")),(0,s.kt)("h3",{id:"onmessage"},"onMessage"),(0,s.kt)("p",null,(0,s.kt)("strong",{parentName:"p"},"Description"),": subscribe to message event"),(0,s.kt)("p",null,(0,s.kt)("strong",{parentName:"p"},"Arguments"),":"),(0,s.kt)("ul",null,(0,s.kt)("li",{parentName:"ul"},"[0]"," cb: (data: any) => void")),(0,s.kt)("p",null,(0,s.kt)("strong",{parentName:"p"},"Example:")),(0,s.kt)("pre",null,(0,s.kt)("code",{parentName:"pre",className:"language-typescript"},"import {WebSocketApi, NetworkEnum} from '@1inch/fusion-sdk'\n\nconst ws = new WebSocketApi({\n    url: 'wss://fusion.1inch.io/ws',\n    network: NetworkEnum.ETHEREUM\n})\n\nws.onMessage((data) => {\n    console.log('message received', data)\n})\n")),(0,s.kt)("h3",{id:"onclose"},"onClose"),(0,s.kt)("p",null,(0,s.kt)("strong",{parentName:"p"},"Description"),": subscribe to close event"),(0,s.kt)("p",null,(0,s.kt)("strong",{parentName:"p"},"Example:")),(0,s.kt)("pre",null,(0,s.kt)("code",{parentName:"pre",className:"language-typescript"},"import {WebSocketApi, NetworkEnum} from '@1inch/fusion-sdk'\n\nconst ws = new WebSocketApi({\n    url: 'wss://fusion.1inch.io/ws',\n    network: NetworkEnum.ETHEREUM\n})\n\nws.onClose(() => {\n    console.log('connection is closed')\n})\n")),(0,s.kt)("h3",{id:"onerror"},"onError"),(0,s.kt)("p",null,(0,s.kt)("strong",{parentName:"p"},"Description"),": subscribe to error event"),(0,s.kt)("p",null,(0,s.kt)("strong",{parentName:"p"},"Arguments"),":"),(0,s.kt)("ul",null,(0,s.kt)("li",{parentName:"ul"},"[0]"," cb: (error: any) => void")),(0,s.kt)("p",null,(0,s.kt)("strong",{parentName:"p"},"Example:")),(0,s.kt)("pre",null,(0,s.kt)("code",{parentName:"pre",className:"language-typescript"},"import {WebSocketApi, NetworkEnum} from '@1inch/fusion-sdk'\n\nconst ws = new WebSocketApi({\n    url: 'wss://fusion.1inch.io/ws',\n    network: NetworkEnum.ETHEREUM\n})\n\nws.onError((error) => {\n    console.log('error is received', error)\n})\n")),(0,s.kt)("p",null,(0,s.kt)("strong",{parentName:"p"},"Order namespace")),(0,s.kt)("h3",{id:"onorder"},"onOrder"),(0,s.kt)("p",null,(0,s.kt)("strong",{parentName:"p"},"Description:")," subscribe to order events"),(0,s.kt)("p",null,(0,s.kt)("strong",{parentName:"p"},"Arguments:")),(0,s.kt)("ul",null,(0,s.kt)("li",{parentName:"ul"},"[0]"," cb: (data: OrderEventType) => void")),(0,s.kt)("p",null,(0,s.kt)("strong",{parentName:"p"},"Example:")),(0,s.kt)("pre",null,(0,s.kt)("code",{parentName:"pre",className:"language-typescript"},"import {WebSocketApi, NetworkEnum} from '@1inch/fusion-sdk'\n\nconst ws = new WebSocketApi({\n    url: 'wss://fusion.1inch.io/ws',\n    network: NetworkEnum.ETHEREUM\n})\n\nws.order.onOrder((data) => {\n    if (data.event === 'order_created') {\n        // do something\n    }\n    if (data.event === 'order_invalid') {\n        // do something\n    }\n})\n")),(0,s.kt)("h3",{id:"onordercreated"},"onOrderCreated"),(0,s.kt)("p",null,(0,s.kt)("strong",{parentName:"p"},"Description:")," subscribe to order_created events"),(0,s.kt)("p",null,(0,s.kt)("strong",{parentName:"p"},"Arguments:")),(0,s.kt)("ul",null,(0,s.kt)("li",{parentName:"ul"},"[0]"," cb: (data: OrderCreatedEvent) => void")),(0,s.kt)("p",null,(0,s.kt)("strong",{parentName:"p"},"Example:")),(0,s.kt)("pre",null,(0,s.kt)("code",{parentName:"pre",className:"language-typescript"},"import {WebSocketApi, NetworkEnum} from '@1inch/fusion-sdk'\n\nconst ws = new WebSocketApi({\n    url: 'wss://fusion.1inch.io/ws',\n    network: NetworkEnum.ETHEREUM\n})\n\nws.order.onOrderCreated((data) => {\n    // do something\n})\n")),(0,s.kt)("h3",{id:"onorderinvalid"},"onOrderInvalid"),(0,s.kt)("p",null,(0,s.kt)("strong",{parentName:"p"},"Description:")," subscribe to order_invalid events"),(0,s.kt)("p",null,(0,s.kt)("strong",{parentName:"p"},"Arguments:")),(0,s.kt)("ul",null,(0,s.kt)("li",{parentName:"ul"},"[0]"," cb: (data: OrderInvalidEvent) => void")),(0,s.kt)("p",null,(0,s.kt)("strong",{parentName:"p"},"Example:")),(0,s.kt)("pre",null,(0,s.kt)("code",{parentName:"pre",className:"language-typescript"},"import {WebSocketApi, NetworkEnum} from '@1inch/fusion-sdk'\n\nconst ws = new WebSocketApi({\n    url: 'wss://fusion.1inch.io/ws',\n    network: NetworkEnum.ETHEREUM\n})\n\nws.order.onOrderInvalid((data) => {\n    // do something\n})\n")),(0,s.kt)("h3",{id:"onorderbalanceorallowancechange"},"onOrderBalanceOrAllowanceChange"),(0,s.kt)("p",null,(0,s.kt)("strong",{parentName:"p"},"Description:")," subscribe to order_balance_or_allowance_change events"),(0,s.kt)("p",null,(0,s.kt)("strong",{parentName:"p"},"Arguments:")),(0,s.kt)("ul",null,(0,s.kt)("li",{parentName:"ul"},"[0]"," cb: (data: OrderBalanceOrAllowanceChangeEvent) => void")),(0,s.kt)("p",null,(0,s.kt)("strong",{parentName:"p"},"Example:")),(0,s.kt)("pre",null,(0,s.kt)("code",{parentName:"pre",className:"language-typescript"},"import {WebSocketApi, NetworkEnum} from '@1inch/fusion-sdk'\n\nconst ws = new WebSocketApi({\n    url: 'wss://fusion.1inch.io/ws',\n    network: NetworkEnum.ETHEREUM\n})\n\nws.order.onOrderBalanceOrAllowanceChange((data) => {\n    // do something\n})\n")),(0,s.kt)("h3",{id:"onorderfilled"},"onOrderFilled"),(0,s.kt)("p",null,(0,s.kt)("strong",{parentName:"p"},"Description:")," subscribe to order_filled events"),(0,s.kt)("p",null,(0,s.kt)("strong",{parentName:"p"},"Arguments:")),(0,s.kt)("ul",null,(0,s.kt)("li",{parentName:"ul"},"[0]"," cb: (data: OrderFilledEvent) => void")),(0,s.kt)("p",null,(0,s.kt)("strong",{parentName:"p"},"Example:")),(0,s.kt)("pre",null,(0,s.kt)("code",{parentName:"pre",className:"language-typescript"},"import {WebSocketApi, NetworkEnum} from '@1inch/fusion-sdk'\n\nconst ws = new WebSocketApi({\n    url: 'wss://fusion.1inch.io/ws',\n    network: NetworkEnum.ETHEREUM\n})\n\nws.order.onOrderFilled((data) => {\n    // do something\n})\n")),(0,s.kt)("h3",{id:"onorderfilledpartially"},"onOrderFilledPartially"),(0,s.kt)("p",null,(0,s.kt)("strong",{parentName:"p"},"Description:")," subscribe to order_filled_partially events"),(0,s.kt)("p",null,(0,s.kt)("strong",{parentName:"p"},"Arguments:")),(0,s.kt)("ul",null,(0,s.kt)("li",{parentName:"ul"},"[0]"," cb: (data: OrderFilledPartiallyEvent) => void")),(0,s.kt)("p",null,(0,s.kt)("strong",{parentName:"p"},"Example:")),(0,s.kt)("pre",null,(0,s.kt)("code",{parentName:"pre",className:"language-typescript"},"import {WebSocketApi, NetworkEnum} from '@1inch/fusion-sdk'\n\nconst ws = new WebSocketApi({\n    url: 'wss://fusion.1inch.io/ws',\n    network: NetworkEnum.ETHEREUM\n})\n\nws.order.onOrderFilledPartially((data) => {\n    // do something\n})\n")),(0,s.kt)("p",null,(0,s.kt)("strong",{parentName:"p"},"Rpc namespace")),(0,s.kt)("h3",{id:"onpong"},"onPong"),(0,s.kt)("p",null,(0,s.kt)("strong",{parentName:"p"},"Description:")," subscribe to ping response"),(0,s.kt)("p",null,(0,s.kt)("strong",{parentName:"p"},"Arguments:")),(0,s.kt)("ul",null,(0,s.kt)("li",{parentName:"ul"},"[0]"," cb: (data: string) => void")),(0,s.kt)("p",null,(0,s.kt)("strong",{parentName:"p"},"Example:")),(0,s.kt)("pre",null,(0,s.kt)("code",{parentName:"pre",className:"language-typescript"},"import {WebSocketApi, NetworkEnum} from '@1inch/fusion-sdk'\n\nconst ws = new WebSocketApi({\n    url: 'wss://fusion.1inch.io/ws',\n    network: NetworkEnum.ETHEREUM\n})\n\nws.rpc.onPong((data) => {\n    // do something\n})\n")),(0,s.kt)("h3",{id:"ping"},"ping"),(0,s.kt)("p",null,(0,s.kt)("strong",{parentName:"p"},"Description:")," ping healthcheck"),(0,s.kt)("p",null,(0,s.kt)("strong",{parentName:"p"},"Example:")),(0,s.kt)("pre",null,(0,s.kt)("code",{parentName:"pre",className:"language-typescript"},"import {WebSocketApi, NetworkEnum} from '@1inch/fusion-sdk'\n\nconst ws = new WebSocketApi({\n    url: 'wss://fusion.1inch.io/ws',\n    network: NetworkEnum.ETHEREUM\n})\n\nws.rpc.ping()\n")),(0,s.kt)("h3",{id:"getallowedmethods"},"getAllowedMethods"),(0,s.kt)("p",null,(0,s.kt)("strong",{parentName:"p"},"Description:")," get the list of allowed methods"),(0,s.kt)("p",null,(0,s.kt)("strong",{parentName:"p"},"Example:")),(0,s.kt)("pre",null,(0,s.kt)("code",{parentName:"pre",className:"language-typescript"},"import {WebSocketApi, NetworkEnum} from '@1inch/fusion-sdk'\n\nconst ws = new WebSocketApi({\n    url: 'wss://fusion.1inch.io/ws',\n    network: NetworkEnum.ETHEREUM\n})\n\nws.rpc.getAllowedMethods()\n")),(0,s.kt)("h3",{id:"ongetallowedmethods"},"onGetAllowedMethods"),(0,s.kt)("p",null,(0,s.kt)("strong",{parentName:"p"},"Description:")," subscribe to get allowed methods response"),(0,s.kt)("p",null,(0,s.kt)("strong",{parentName:"p"},"Arguments:")),(0,s.kt)("ul",null,(0,s.kt)("li",{parentName:"ul"},"[0]"," cb: (data: RpcMethod[]) => void")),(0,s.kt)("p",null,(0,s.kt)("strong",{parentName:"p"},"Example:")),(0,s.kt)("pre",null,(0,s.kt)("code",{parentName:"pre",className:"language-typescript"},"import {WebSocketApi, NetworkEnum} from '@1inch/fusion-sdk'\n\nconst ws = new WebSocketApi({\n    url: 'wss://fusion.1inch.io/ws',\n    network: NetworkEnum.ETHEREUM\n})\n\nws.rpc.onGetAllowedMethods((data) => {\n    // do something\n})\n")),(0,s.kt)("h3",{id:"getactiveorders"},"getActiveOrders"),(0,s.kt)("p",null,(0,s.kt)("strong",{parentName:"p"},"Description:")," get the list of active orders"),(0,s.kt)("p",null,(0,s.kt)("strong",{parentName:"p"},"Example:")),(0,s.kt)("pre",null,(0,s.kt)("code",{parentName:"pre",className:"language-typescript"},"import {WebSocketApi, NetworkEnum} from '@1inch/fusion-sdk'\n\nconst ws = new WebSocketApi({\n    url: 'wss://fusion.1inch.io/ws',\n    network: NetworkEnum.ETHEREUM\n})\n\nws.rpc.getActiveOrders()\n")),(0,s.kt)("h3",{id:"ongetactiveorders"},"onGetActiveOrders"),(0,s.kt)("p",null,(0,s.kt)("strong",{parentName:"p"},"Description:")," subscribe to get active orders events"),(0,s.kt)("p",null,(0,s.kt)("strong",{parentName:"p"},"Arguments:")),(0,s.kt)("ul",null,(0,s.kt)("li",{parentName:"ul"},"[0]"," cb: (data: PaginationOutput\\<ActiveOrder",">",") => void")),(0,s.kt)("p",null,(0,s.kt)("strong",{parentName:"p"},"Example:")),(0,s.kt)("pre",null,(0,s.kt)("code",{parentName:"pre",className:"language-typescript"},"import {WebSocketApi, NetworkEnum} from '@1inch/fusion-sdk'\n\nconst ws = new WebSocketApi({\n    url: 'wss://fusion.1inch.io/ws',\n    network: NetworkEnum.ETHEREUM\n})\n\nws.rpc.onGetActiveOrders((data) => {\n    // do something\n})\n")),(0,s.kt)("h2",{id:"types"},"Types"),(0,s.kt)("h3",{id:"ordereventtype"},"OrderEventType"),(0,s.kt)("pre",null,(0,s.kt)("code",{parentName:"pre",className:"language-typescript"},"type Event<K extends string, T> = {event: K; data: T}\n\ntype OrderEventType =\n    | OrderCreatedEvent\n    | OrderInvalidEvent\n    | OrderBalanceOrAllowanceChangeEvent\n    | OrderFilledEvent\n    | OrderFilledPartiallyEvent\n\ntype OrderCreatedEvent = Event<\n    'order_created',\n    {\n        orderHash: string\n        signature: string\n        order: LimitOrderV3Struct\n        deadline: string\n        auctionStartDate: string\n        auctionEndDate: string\n        remainingMakerAmount: string\n    }\n>\n\ntype OrderBalanceOrAllowanceChangeEvent = Event<\n    'order_balance_or_allowance_change',\n    {\n        orderHash: string\n        remainingMakerAmount: string\n        balance: string\n        allowance: string\n    }\n>\n\ntype OrderInvalidEvent = Event<\n    'order_invalid',\n    {\n        orderHash: string\n    }\n>\n\ntype OrderFilledEvent = Event<'order_filled', {orderHash: string}>\n\ntype OrderFilledPartiallyEvent = Event<\n    'order_filled_partially',\n    {orderHash: string; remainingMakerAmount: string}\n>\n")),(0,s.kt)("h3",{id:"rpcmethod"},"RpcMethod"),(0,s.kt)("pre",null,(0,s.kt)("code",{parentName:"pre",className:"language-typescript"},"type RpcMethod = 'getAllowedMethods' | 'ping'\n")))}d.isMDXComponent=!0}}]);